In classical mechanics, the shell theorem gives gravitational simplifications that can be applied to objects inside or outside a spherically symmetrical body. This theorem has particular application to astronomy.
Isaac Newton proved the shell theorem and stated that:

A spherically symmetric body affects external objects gravitationally as though all of its mass were concentrated at a point at its center.
If the body is a spherically symmetric shell (i.e., a hollow ball), no net gravitational force is exerted by the shell on any object inside, regardless of the object's location within the shell.A corollary is that inside a solid sphere of constant density, the gravitational force within the object varies linearly with distance from the center, becoming zero by symmetry at the center of mass. This can be seen as follows: take a point within such a sphere, at a distance 
  
    
      
        r
      
    
    {\displaystyle r}
   from the center of the sphere. Then you can ignore all of the shells of greater radius, according to the shell theorem (2). But the point can be considered to be external to the remaining sphere of radius r, and according to (1) all of the mass of this sphere can be considered to be concentrated at its centre. The remaining mass 
  
    
      
        m
      
    
    {\displaystyle m}
   is proportional to 
  
    
      
        
          r
          
            3
          
        
      
    
    {\displaystyle r^{3}}
   (because it is based on volume). The gravitational force exerted on a body at radius r will be proportional to 
  
    
      
        m
        
          /
        
        
          r
          
            2
          
        
      
    
    {\displaystyle m/r^{2}}
   (the inverse square law), so the overall gravitational effect is proportional to 
  
    
      
        
          r
          
            3
          
        
        
          /
        
        
          r
          
            2
          
        
        =
        r
      
    
    {\displaystyle r^{3}/r^{2}=r}
  , so is linear in 
  
    
      
        r
      
    
    {\displaystyle r}
  .
These results were important to Newton's analysis of planetary motion; they are not immediately obvious, but they can be proven with calculus. (Gauss's law for gravity offers an alternative way to state the theorem.)
In addition to gravity, the shell theorem can also be used to describe the electric field generated by a static spherically symmetric charge density, or similarly for any other phenomenon that follows an inverse square law. The derivations below focus on gravity, but the results can easily be generalized to the electrostatic force.

Derivation of gravitational field outside of a solid sphere
There are three steps to proving Newton's shell theorem. First, the equation for a gravitational field due to a ring of mass will be derived. Arranging an infinite number of infinitely thin rings to make a disc, this equation involving a ring will be used to find the gravitational field due to a disk. Finally, arranging an infinite number of infinitely thin discs to make a sphere, this equation involving a disc will be used to find the gravitational field due to a sphere.
The gravitational field 
  
    
      
        E
      
    
    {\displaystyle E}
   at a position called 
  
    
      
        P
      
    
    {\displaystyle P}
   at 
  
    
      
        (
        x
        ,
        y
        )
        =
        (
        −
        p
        ,
        0
        )
      
    
    {\displaystyle (x,y)=(-p,0)}
   on the x-axis due to a point of mass 
  
    
      
        M
      
    
    {\displaystyle M}
   at the origin is 

Suppose that this mass is moved upwards along the y-axis to the point 
  
    
      
        (
        −
        p
        ,
        R
        )
      
    
    {\displaystyle (-p,R)}
  . The distance between 
  
    
      
        P
      
    
    {\displaystyle P}
   and the point mass is now longer than before; It becomes the hypotenuse of the right triangle with legs 
  
    
      
        p
      
    
    {\displaystyle p}
   and 
  
    
      
        R
      
    
    {\displaystyle R}
   which is 
  
    
      
        
          
            
              p
              
                2
              
            
            +
            
              R
              
                2
              
            
          
        
      
    
    {\textstyle {\sqrt {p^{2}+R^{2}}}}
  . Hence, the gravitational field of the elevated point is:

The magnitude of the gravitational field that would pull a particle at point 
  
    
      
        P
      
    
    {\displaystyle P}
   in the x-direction is the gravitational field multiplied by 
  
    
      
        cos
        ⁡
        (
        θ
        )
      
    
    {\displaystyle \cos(\theta )}
   where 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   is the angle adjacent to the x-axis. In this case, 
  
    
      
        cos
        ⁡
        (
        θ
        )
        =
        
          
            p
            
              
                p
                
                  2
                
              
              +
              
                R
                
                  2
                
              
            
          
        
      
    
    {\displaystyle \cos(\theta )={\frac {p}{\sqrt {p^{2}+R^{2}}}}}
  . Hence, the magnitude of the gravitational field in the x-direction, 
  
    
      
        
          E
          
            x
          
        
      
    
    {\displaystyle E_{x}}
   is:

Substituting in 
  
    
      
        cos
        ⁡
        (
        θ
        )
      
    
    {\displaystyle \cos(\theta )}
   gives

Suppose that this mass is evenly distributed in a ring centered at the origin and facing point 
  
    
      
        P
      
    
    {\displaystyle P}
   with the same radius 
  
    
      
        R
      
    
    {\displaystyle R}
  . Because all of the mass is located at the same angle with respect to the x-axis, and the distance between the points on the ring is the same distance as before, the gravitational field in the x-direction at point 
  
    
      
        P
      
    
    {\displaystyle P}
   due to the ring is the same as a point mass located at a point 
  
    
      
        R
      
    
    {\displaystyle R}
   units above the y-axis:

To find the gravitational field at point 
  
    
      
        P
      
    
    {\displaystyle P}
   due to a disc, an infinite number of infinitely thin rings facing 
  
    
      
        P
      
    
    {\displaystyle P}
  , each with a radius 
  
    
      
        y
      
    
    {\displaystyle y}
  , width of 
  
    
      
        d
        y
      
    
    {\displaystyle dy}
  , and mass of 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   may be placed inside one another to form a disc. The mass of any one of the rings 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   is the mass of the disc multiplied by the ratio of the area of the ring 
  
    
      
        2
        π
        y
        
        d
        y
      
    
    {\displaystyle 2\pi y\,dy}
   to the total area of the disc 
  
    
      
        π
        
          R
          
            2
          
        
      
    
    {\displaystyle \pi R^{2}}
  . So, 
  
    
      
        d
        M
        =
        
          
            
              M
              ⋅
              2
              y
              
              d
              y
            
            
              R
              
                2
              
            
          
        
      
    
    {\textstyle dM={\frac {M\cdot 2y\,dy}{R^{2}}}}
  . Hence, a small change in the gravitational field, 
  
    
      
        E
      
    
    {\displaystyle E}
   is:

Substituting in 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   and integrating both sides gives the gravitational field of the disk:

Adding up the contribution to the gravitational field from each of these rings will yield the expression for the gravitational field due to a disc. This is equivalent to integrating this above expression from 
  
    
      
        y
        =
        0
      
    
    {\displaystyle y=0}
   to 
  
    
      
        y
        =
        R
      
    
    {\displaystyle y=R}
  , resulting in:

To find the gravitational field at point 
  
    
      
        P
      
    
    {\displaystyle P}
   due to a sphere centered at the origin, an infinite amount of infinitely thin discs facing 
  
    
      
        P
      
    
    {\displaystyle P}
  , each with a radius 
  
    
      
        R
      
    
    {\displaystyle R}
  , width of 
  
    
      
        d
        x
      
    
    {\displaystyle dx}
  , and mass of 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   may be placed together.
These discs' radii 
  
    
      
        R
      
    
    {\displaystyle R}
   follow the height of the cross section of a sphere (with constant radius 
  
    
      
        a
      
    
    {\displaystyle a}
  ) which is an equation of a semi-circle: 
  
    
      
        R
        =
        
          
            
              a
              
                2
              
            
            −
            
              x
              
                2
              
            
          
        
      
    
    {\textstyle R={\sqrt {a^{2}-x^{2}}}}
  . 
  
    
      
        x
      
    
    {\displaystyle x}
   varies from 
  
    
      
        −
        a
      
    
    {\displaystyle -a}
   to 
  
    
      
        a
      
    
    {\displaystyle a}
  .
The mass of any of the discs 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   is the mass of the sphere 
  
    
      
        M
      
    
    {\displaystyle M}
   multiplied by the ratio of the volume of an infinitely thin disc divided by the volume of a sphere (with constant radius 
  
    
      
        a
      
    
    {\displaystyle a}
  ). The volume of an infinitely thin disc is 
  
    
      
        π
        
          R
          
            2
          
        
        
        d
        x
      
    
    {\displaystyle \pi R^{2}\,dx}
  , or 
  
    
      
        π
        
          (
          
            
              a
              
                2
              
            
            −
            
              x
              
                2
              
            
          
          )
        
        d
        x
      
    
    {\textstyle \pi \left(a^{2}-x^{2}\right)dx}
  . So, 
  
    
      
        d
        M
        =
        
          
            
              π
              M
              (
              
                a
                
                  2
                
              
              −
              
                x
                
                  2
                
              
              )
              
              d
              x
            
            
              
                
                  4
                  3
                
              
              π
              
                a
                
                  3
                
              
            
          
        
      
    
    {\textstyle dM={\frac {\pi M(a^{2}-x^{2})\,dx}{{\frac {4}{3}}\pi a^{3}}}}
  . Simplifying gives 
  
    
      
        d
        M
        =
        
          
            
              3
              M
              (
              
                a
                
                  2
                
              
              −
              
                x
                
                  2
                
              
              )
              
              d
              x
            
            
              4
              
                a
                
                  3
                
              
            
          
        
      
    
    {\textstyle dM={\frac {3M(a^{2}-x^{2})\,dx}{4a^{3}}}}
  .
Each discs' position away from 
  
    
      
        P
      
    
    {\displaystyle P}
   will vary with its position within the 'sphere' made of the discs, so 
  
    
      
        p
      
    
    {\displaystyle p}
   must be replaced with 
  
    
      
        p
        +
        x
      
    
    {\displaystyle p+x}
  .

Replacing 
  
    
      
        M
      
    
    {\displaystyle M}
   with 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
  , 
  
    
      
        R
      
    
    {\displaystyle R}
   with 
  
    
      
        
          
            
              a
              
                2
              
            
            −
            
              x
              
                2
              
            
          
        
      
    
    {\displaystyle {\sqrt {a^{2}-x^{2}}}}
  , and 
  
    
      
        p
      
    
    {\displaystyle p}
   with 
  
    
      
        p
        +
        x
      
    
    {\displaystyle p+x}
   in the 'disc' equation yields:

Simplifying,

Integrating the gravitational field of each thin disc from 
  
    
      
        x
        =
        −
        a
      
    
    {\displaystyle x=-a}
   to 
  
    
      
        x
        =
        +
        a
      
    
    {\displaystyle x=+a}
   with respect to 
  
    
      
        x
      
    
    {\displaystyle x}
  , and doing some careful algebra, yields Newton's shell theorem:

where 
  
    
      
        p
      
    
    {\displaystyle p}
   is the distance between the center of the spherical mass and an arbitrary point 
  
    
      
        P
      
    
    {\displaystyle P}
  . The gravitational field of a spherical mass may be calculated by treating all the mass as a point particle at the center of the sphere.

Outside a shell
A solid, spherically symmetric body can be modeled as an infinite number of concentric, infinitesimally thin spherical shells. If one of these shells can be treated as a point mass, then a system of shells (i.e. the sphere) can also be treated as a point mass. Consider one such shell (the diagram shows a cross-section):

(Note: the 
  
    
      
        d
        θ
      
    
    {\displaystyle d\theta }
   in the diagram refers to the small angle, not the arc length. The arc length is 
  
    
      
        R
        
        d
        θ
      
    
    {\textstyle R\,d\theta }
  .)
Applying Newton's Universal Law of Gravitation, the sum of the forces due to the mass elements in the shaded band is

  
    
      
        d
        F
        =
        
          
            
              G
              m
            
            
              s
              
                2
              
            
          
        
        d
        M
        .
      
    
    {\displaystyle dF={\frac {Gm}{s^{2}}}dM.}
  However, since there is partial cancellation due to the vector nature of the force in conjunction with the circular band's symmetry, the leftover component (in the direction pointing towards 
  
    
      
        m
      
    
    {\displaystyle m}
  ) is given by

  
    
      
        d
        
          F
          
            r
          
        
        =
        
          
            
              G
              m
            
            
              s
              
                2
              
            
          
        
        cos
        ⁡
        (
        φ
        )
        
        d
        M
      
    
    {\displaystyle dF_{r}={\frac {Gm}{s^{2}}}\cos(\varphi )\,dM}
  The total force on 
  
    
      
        m
      
    
    {\displaystyle m}
  , then, is simply the sum of the force exerted by all the bands. By shrinking the width of each band, and increasing the number of bands, the sum becomes an integral expression:

  
    
      
        
          F
          
            r
          
        
        =
        ∫
        d
        
          F
          
            r
          
        
      
    
    {\displaystyle F_{r}=\int dF_{r}}
  Since 
  
    
      
        G
      
    
    {\displaystyle G}
   and 
  
    
      
        m
      
    
    {\displaystyle m}
   are constants, they may be taken out of the integral:

  
    
      
        
          F
          
            r
          
        
        =
        G
        m
        ∫
        
          
            
              cos
              ⁡
              (
              φ
              )
            
            
              s
              
                2
              
            
          
        
        
        d
        M
        .
      
    
    {\displaystyle F_{r}=Gm\int {\frac {\cos(\varphi )}{s^{2}}}\,dM.}
  To evaluate this integral, one must first express 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   as a function of 
  
    
      
        d
        θ
      
    
    {\displaystyle d\theta }
  
The total surface of a spherical shell is

  
    
      
        4
        π
        
          R
          
            2
          
        
      
    
    {\displaystyle 4\pi R^{2}}
  while the surface area of the thin slice between 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   and 
  
    
      
        θ
        +
        d
        θ
      
    
    {\displaystyle \theta +d\theta }
   is

  
    
      
        2
        π
        R
        sin
        ⁡
        (
        θ
        )
        R
        
        d
        θ
        =
        2
        π
        
          R
          
            2
          
        
        sin
        ⁡
        (
        θ
        )
        
        d
        θ
      
    
    {\displaystyle 2\pi R\sin(\theta )R\,d\theta =2\pi R^{2}\sin(\theta )\,d\theta }
  If the mass of the shell is 
  
    
      
        M
      
    
    {\displaystyle M}
  , one therefore has that

  
    
      
        d
        M
        =
        
          
            
              2
              π
              
                R
                
                  2
                
              
              sin
              ⁡
              (
              θ
              )
            
            
              4
              π
              
                R
                
                  2
                
              
            
          
        
        M
        
        d
        θ
        =
        
          
            1
            2
          
        
        M
        sin
        ⁡
        (
        θ
        )
        
        d
        θ
      
    
    {\displaystyle dM={\frac {2\pi R^{2}\sin(\theta )}{4\pi R^{2}}}M\,d\theta ={\frac {1}{2}}M\sin(\theta )\,d\theta }
  and

  
    
      
        
          F
          
            r
          
        
        =
        
          
            
              G
              M
              m
            
            2
          
        
        ∫
        
          
            
              sin
              ⁡
              (
              θ
              )
              cos
              ⁡
              (
              φ
              )
            
            
              s
              
                2
              
            
          
        
        
        d
        θ
      
    
    {\displaystyle F_{r}={\frac {GMm}{2}}\int {\frac {\sin(\theta )\cos(\varphi )}{s^{2}}}\,d\theta }
  By the law of cosines,

  
    
      
        cos
        ⁡
        (
        φ
        )
        =
        
          
            
              
                r
                
                  2
                
              
              +
              
                s
                
                  2
                
              
              −
              
                R
                
                  2
                
              
            
            
              2
              r
              s
            
          
        
      
    
    {\displaystyle \cos(\varphi )={\frac {r^{2}+s^{2}-R^{2}}{2rs}}}
  and

  
    
      
        cos
        ⁡
        (
        θ
        )
        =
        
          
            
              
                r
                
                  2
                
              
              +
              
                R
                
                  2
                
              
              −
              
                s
                
                  2
                
              
            
            
              2
              r
              R
            
          
        
        .
      
    
    {\displaystyle \cos(\theta )={\frac {r^{2}+R^{2}-s^{2}}{2rR}}.}
  These two relations link the three parameters 
  
    
      
        θ
      
    
    {\displaystyle \theta }
  , 
  
    
      
        φ
      
    
    {\displaystyle \varphi }
   and 
  
    
      
        s
      
    
    {\displaystyle s}
   that appear in the integral together. As 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   increases from 
  
    
      
        0
      
    
    {\displaystyle 0}
   to 
  
    
      
        π
      
    
    {\displaystyle \pi }
   radians, 
  
    
      
        φ
      
    
    {\displaystyle \varphi }
   varies from the initial value 0 to a maximal value before finally returning to zero at 
  
    
      
        θ
        =
        π
      
    
    {\displaystyle \theta =\pi }
  . At the same time, 
  
    
      
        s
      
    
    {\displaystyle s}
   increases from the initial value 
  
    
      
        r
        −
        R
      
    
    {\displaystyle r-R}
   to the final value 
  
    
      
        r
        +
        R
      
    
    {\displaystyle r+R}
   as 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   increases from 0 to 
  
    
      
        π
      
    
    {\displaystyle \pi }
   radians. This is illustrated in the following animation:

(Note: As viewed from 
  
    
      
        m
      
    
    {\displaystyle m}
  , the shaded blue band appears as a thin annulus whose inner and outer radii converge to 
  
    
      
        R
        sin
        ⁡
        (
        θ
        )
      
    
    {\displaystyle R\sin(\theta )}
   as 
  
    
      
        d
        θ
      
    
    {\displaystyle d\theta }
   vanishes.)
To find a primitive function to the integrand, one has to make 
  
    
      
        s
      
    
    {\displaystyle s}
   the independent integration variable instead of 
  
    
      
        θ
      
    
    {\displaystyle \theta }
  .
Performing an implicit differentiation of the second of the "cosine law" expressions above yields

  
    
      
        −
        sin
        ⁡
        (
        θ
        )
        
        d
        θ
        =
        
          
            
              −
              2
              s
            
            
              2
              r
              R
            
          
        
        
        d
        s
      
    
    {\displaystyle -\sin(\theta )\,d\theta ={\frac {-2s}{2rR}}\,ds}
  and thus

  
    
      
        sin
        ⁡
        (
        θ
        )
        
        d
        θ
        =
        
          
            s
            
              r
              R
            
          
        
        
        d
        s
        .
      
    
    {\displaystyle \sin(\theta )\,d\theta ={\frac {s}{rR}}\,ds.}
  It follows that

  
    
      
        
          F
          
            r
          
        
        =
        
          
            
              G
              M
              m
            
            2
          
        
        
          
            1
            
              r
              R
            
          
        
        ∫
        
          
            
              s
              cos
              ⁡
              (
              φ
              )
            
            
              s
              
                2
              
            
          
        
        
        d
        s
        =
        
          
            
              G
              M
              m
            
            
              2
              r
              R
            
          
        
        ∫
        
          
            
              cos
              ⁡
              (
              φ
              )
            
            s
          
        
        
        d
        s
      
    
    {\displaystyle F_{r}={\frac {GMm}{2}}{\frac {1}{rR}}\int {\frac {s\cos(\varphi )}{s^{2}}}\,ds={\frac {GMm}{2rR}}\int {\frac {\cos(\varphi )}{s}}\,ds}
  where the new integration variable 
  
    
      
        s
      
    
    {\displaystyle s}
   increases from 
  
    
      
        r
        −
        R
      
    
    {\displaystyle r-R}
   to 
  
    
      
        r
        +
        R
      
    
    {\displaystyle r+R}
  .
Inserting the expression for 
  
    
      
        cos
        ⁡
        (
        φ
        )
      
    
    {\displaystyle \cos(\varphi )}
   using the first of the "cosine law" expressions above, one finally gets that

  
    
      
        
          F
          
            r
          
        
        =
        
          
            
              G
              M
              m
            
            
              4
              
                r
                
                  2
                
              
              R
            
          
        
        ∫
        
          (
          
            1
            +
            
              
                
                  
                    r
                    
                      2
                    
                  
                  −
                  
                    R
                    
                      2
                    
                  
                
                
                  s
                  
                    2
                  
                
              
            
          
          )
        
         
        d
        s
         
        .
      
    
    {\displaystyle F_{r}={\frac {GMm}{4r^{2}R}}\int \left(1+{\frac {r^{2}-R^{2}}{s^{2}}}\right)\ ds\ .}
  A primitive function to the integrand is

  
    
      
        s
        −
        
          
            
              
                r
                
                  2
                
              
              −
              
                R
                
                  2
                
              
            
            s
          
        
         
        ,
      
    
    {\displaystyle s-{\frac {r^{2}-R^{2}}{s}}\ ,}
  and inserting the bounds 
  
    
      
        r
        −
        R
      
    
    {\displaystyle r-R}
   and 
  
    
      
        r
        +
        R
      
    
    {\displaystyle r+R}
   for the integration variable 
  
    
      
        s
      
    
    {\displaystyle s}
   in this primitive function, one gets that

  
    
      
        
          F
          
            r
          
        
        =
        
          
            
              G
              M
              m
            
            
              r
              
                2
              
            
          
        
        ,
      
    
    {\displaystyle F_{r}={\frac {GMm}{r^{2}}},}
  saying that the gravitational force is the same as that of a point mass in the center of the shell with the same mass.
Finally, integrate all infinitesimally thin spherical shell with mass of 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
  , and we can obtain the total gravity contribution of a solid ball to the object outside the ball

  
    
      
        
          F
          
            t
            o
            t
            a
            l
          
        
        =
        ∫
        d
        
          F
          
            r
          
        
        =
        
          
            
              G
              m
            
            
              r
              
                2
              
            
          
        
        ∫
        d
        M
        .
      
    
    {\displaystyle F_{total}=\int dF_{r}={\frac {Gm}{r^{2}}}\int dM.}
  Between the radius of 
  
    
      
        x
      
    
    {\displaystyle x}
   to 
  
    
      
        x
        +
        d
        x
      
    
    {\displaystyle x+dx}
  , 
  
    
      
        d
        M
      
    
    {\displaystyle dM}
   can be expressed as a function of 
  
    
      
        x
      
    
    {\displaystyle x}
  , i.e.,

  
    
      
        d
        M
        =
        
          
            
              4
              π
              
                x
                
                  2
                
              
              d
              x
            
            
              
                
                  4
                  3
                
              
              π
              
                R
                
                  3
                
              
            
          
        
        M
        =
        
          
            
              3
              M
              
                x
                
                  2
                
              
              d
              x
            
            
              R
              
                3
              
            
          
        
      
    
    {\displaystyle dM={\frac {4\pi x^{2}dx}{{\frac {4}{3}}\pi R^{3}}}M={\frac {3Mx^{2}dx}{R^{3}}}}
  Therefore, the total gravity is

  
    
      
        
          F
          
            total
          
        
        =
        
          
            
              3
              G
              M
              m
            
            
              
                r
                
                  2
                
              
              
                R
                
                  3
                
              
            
          
        
        
          ∫
          
            0
          
          
            R
          
        
        
          x
          
            2
          
        
        
        d
        x
        =
        
          
            
              G
              M
              m
            
            
              r
              
                2
              
            
          
        
      
    
    {\displaystyle F_{\text{total}}={\frac {3GMm}{r^{2}R^{3}}}\int _{0}^{R}x^{2}\,dx={\frac {GMm}{r^{2}}}}
  which suggests that the gravity of a solid spherical ball to an exterior object can be simplified as that of a point mass in the center of the ball with the same mass.

Inside a shell
For a point inside the shell, the difference is that when θ is equal to zero, ϕ takes the value π radians and s the value R − r. When θ increases from 0 to π radians, ϕ decreases from the initial value π radians to zero and s increases from the initial value R − r to the value R + r.
This can all be seen in the following figure

Inserting these bounds into the primitive function

  
    
      
        s
        −
        
          
            
              
                r
                
                  2
                
              
              −
              
                R
                
                  2
                
              
            
            s
          
        
      
    
    {\displaystyle s-{\frac {r^{2}-R^{2}}{s}}}
  one gets that, in this case

  
    
      
        
          F
          
            r
          
        
        =
        0
        ,
      
    
    {\displaystyle F_{r}=0,}
  saying that the net gravitational forces acting on the point mass from the mass elements of the shell, outside the measurement point, cancel out.
Generalization: If 
  
    
      
        f
        =
        
          
            k
            
              r
              
                p
              
            
          
        
      
    
    {\displaystyle f={\frac {k}{r^{p}}}}
  , the resultant force inside the shell is:

  
    
      
        F
        (
        r
        )
        =
        
          
            
              G
              M
              m
            
            
              4
              
                r
                
                  2
                
              
              R
            
          
        
        
          ∫
          
            R
            −
            r
          
          
            R
            +
            r
          
        
        
          (
          
            
              
                1
                
                  s
                  
                    p
                    −
                    2
                  
                
              
            
            +
            
              
                
                  
                    r
                    
                      2
                    
                  
                  −
                  
                    R
                    
                      2
                    
                  
                
                
                  s
                  
                    p
                  
                
              
            
          
          )
        
        
        d
        s
      
    
    {\displaystyle F(r)={\frac {GMm}{4r^{2}R}}\int _{R-r}^{R+r}\left({\frac {1}{s^{p-2}}}+{\frac {r^{2}-R^{2}}{s^{p}}}\right)\,ds}
  The above results into 
  
    
      
        F
        (
        r
        )
      
    
    {\displaystyle F(r)}
   being identically zero if and only if 
  
    
      
        p
        =
        2
      
    
    {\displaystyle p=2}
  
Outside the shell (i.e. 
  
    
      
        r
        >
        R
      
    
    {\displaystyle r>R}
   or 
  
    
      
        r
        <
        −
        R
      
    
    {\displaystyle r<-R}
  ):

  
    
      
        F
        (
        r
        )
        =
        
          
            
              G
              M
              m
            
            
              4
              
                r
                
                  2
                
              
              R
            
          
        
        
          ∫
          
            r
            −
            R
          
          
            r
            +
            R
          
        
        
          (
          
            
              
                1
                
                  s
                  
                    p
                    −
                    2
                  
                
              
            
            +
            
              
                
                  
                    r
                    
                      2
                    
                  
                  −
                  
                    R
                    
                      2
                    
                  
                
                
                  s
                  
                    p
                  
                
              
            
          
          )
        
        
        d
        s
      
    
    {\displaystyle F(r)={\frac {GMm}{4r^{2}R}}\int _{r-R}^{r+R}\left({\frac {1}{s^{p-2}}}+{\frac {r^{2}-R^{2}}{s^{p}}}\right)\,ds}

Derivation using Gauss's law
The shell theorem is an immediate consequence of Gauss's law for gravity saying that

  
    
      
        
          ∫
          
            S
          
        
        
          
            g
          
        
        ⋅
        
        d
        
          
            S
          
        
        =
        −
        4
        π
        G
        M
      
    
    {\displaystyle \int _{S}{\mathbf {g} }\cdot \,d{\mathbf {S} }=-4\pi GM}
  where M is the mass of the part of the spherically symmetric mass distribution that is inside the sphere with radius r and

  
    
      
        
          ∫
          
            S
          
        
        
          
            g
          
        
        ⋅
        
        d
        
          
            S
          
        
        =
        
          ∫
          
            S
          
        
        
          
            g
          
        
        ⋅
        
          
            
              
                n
              
              ^
            
          
        
        
        d
        S
      
    
    {\displaystyle \int _{S}{\mathbf {g} }\cdot \,d{\mathbf {S} }=\int _{S}{\mathbf {g} }\cdot {\hat {\mathbf {n} }}\,dS}
  is the surface integral of the gravitational field g over any closed surface inside which the total mass is M, the unit vector 
  
    
      
        
          
            
              
                n
              
              ^
            
          
        
      
    
    {\displaystyle {\hat {\mathbf {n} }}}
   being the outward normal to the surface.
The gravitational field of a spherically symmetric mass distribution like a mass point, a spherical shell or a homogeneous sphere must also be spherically symmetric. If 
  
    
      
        
          
            
              
                n
              
              ^
            
          
        
      
    
    {\displaystyle {\hat {\mathbf {n} }}}
   is a unit vector in the direction from the point of symmetry to another point the gravitational field at this other point must therefore be

  
    
      
        
          g
        
        =
        g
        (
        r
        )
        
          
            
              
                n
              
              ^
            
          
        
      
    
    {\displaystyle \mathbf {g} =g(r){\hat {\mathbf {n} }}}
  where g(r) only depends on the distance r to the point of symmetry
Selecting the closed surface as a sphere with radius r with center at the point of symmetry the outward normal to a point on the surface, 
  
    
      
        
          
            
              
                n
              
              ^
            
          
        
      
    
    {\displaystyle {\hat {\mathbf {n} }}}
  , is precisely the direction pointing away from the point of symmetry of the mass distribution.
One, therefore, has that

  
    
      
        
          g
        
        =
        g
        (
        r
        )
        
          
            
              
                n
              
              ^
            
          
        
      
    
    {\displaystyle \mathbf {g} =g(r){\hat {\mathbf {n} }}}
  and

  
    
      
        
          ∫
          
            S
          
        
        
          g
        
        ⋅
        
        d
        
          
            S
          
        
        =
        g
        (
        r
        )
        
          ∫
          
            S
          
        
        
        d
        S
        =
        g
        (
        r
        )
        4
        π
        
          r
          
            2
          
        
      
    
    {\displaystyle \int _{S}\mathbf {g} \cdot \,d{\mathbf {S} }=g(r)\int _{S}\,dS=g(r)4\pi r^{2}}
  as the area of the sphere is 4πr2.
From Gauss's law it then follows that

  
    
      
        g
        (
        r
        )
        4
        π
        
          r
          
            2
          
        
        =
        −
        4
        π
        G
        M
        ,
      
    
    {\displaystyle g(r)4\pi r^{2}=-4\pi GM,}
  or,

  
    
      
        g
        (
        r
        )
        =
        −
        
          
            
              G
              M
            
            
              r
              
                2
              
            
          
        
        .
      
    
    {\displaystyle g(r)=-{\frac {GM}{r^{2}}}.}

Converses and generalizations
It is natural to ask whether the converse of the shell theorem is true, namely whether the result of the theorem implies the law of universal gravitation, or if there is some more general force law for which the theorem holds. More specifically, one may ask the question:

In fact, this allows exactly one more class of force than the (Newtonian) inverse square. The most general force as derived by Vahe Gurzadyan in  Gurzadyan theorem is:"

  
    
      
        F
        =
        −
        
          
            
              G
              M
              m
            
            
              r
              
                2
              
            
          
        
        +
        
          
            
              Λ
              m
              
                c
                
                  2
                
              
              r
            
            3
          
        
      
    
    {\displaystyle F=-{\frac {GMm}{r^{2}}}+{\frac {\Lambda mc^{2}r}{3}}}
  where 
  
    
      
        G
      
    
    {\displaystyle G}
   and 
  
    
      
        Λ
      
    
    {\displaystyle \Lambda }
   can be constants taking any value. The first term is the familiar law of universal gravitation; the second is an additional force, analogous to the cosmological constant term in general relativity.
If we further constrain the force by requiring that the second part of the theorem also holds, namely that there is no force inside a hollow ball, we exclude the possibility of the additional term, and the inverse square law is indeed the unique force law satisfying the theorem.
On the other hand, if we relax the conditions, and require only that the field everywhere outside a spherically symmetric body is the same as the field from some point mass at the center (of any mass), we allow a new class of solutions given by the Yukawa potential, of which the inverse square law is a special case.
Another generalization can be made for a disc by observing that 

  
    
      
        d
        M
        =
        
          
            
              R
              
                2
              
            
            2
          
        
        
          
            
              d
              θ
              
              
                sin
                
                  2
                
              
              ⁡
              (
              θ
              )
            
            
              π
              
                R
                
                  2
                
              
            
          
        
        M
        =
        
          
            
              
                sin
                
                  2
                
              
              ⁡
              (
              θ
              )
            
            
              2
              π
            
          
        
        M
        
        d
        θ
      
    
    {\displaystyle dM={\frac {R^{2}}{2}}{\frac {d\theta \,\sin ^{2}(\theta )}{\pi R^{2}}}M={\frac {\sin ^{2}(\theta )}{2\pi }}M\,d\theta }
  so:

  
    
      
        
          F
          
            r
          
        
        =
        
          
            
              G
              M
              m
            
            
              2
              π
            
          
        
        ∫
        
          
            
              
                sin
                
                  2
                
              
              ⁡
              (
              θ
              )
              cos
              ⁡
              (
              φ
              )
            
            
              s
              
                2
              
            
          
        
        
        d
        θ
        ,
      
    
    {\displaystyle F_{r}={\frac {GMm}{2\pi }}\int {\frac {\sin ^{2}(\theta )\cos(\varphi )}{s^{2}}}\,d\theta ,}
  where 
  
    
      
        M
        =
        π
        
          R
          
            2
          
        
        ρ
      
    
    {\displaystyle M=\pi R^{2}\rho }
  , and 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
   is the density of the body.
Doing all the intermediate calculations we get:

  
    
      
        F
        (
        r
        )
        =
        
          
            
              G
              m
              ρ
            
            
              8
              
                r
                
                  3
                
              
            
          
        
        
          ∫
          
            R
            −
            r
          
          
            R
            +
            r
          
        
        
          
            
              
                (
                
                  
                    r
                    
                      2
                    
                  
                  +
                  
                    s
                    
                      2
                    
                  
                  −
                  
                    R
                    
                      2
                    
                  
                
                )
              
              
                
                  2
                  
                    (
                    
                      
                        r
                        
                          2
                        
                      
                      
                        R
                        
                          2
                        
                      
                      +
                      
                        r
                        
                          2
                        
                      
                      
                        s
                        
                          2
                        
                      
                      +
                      
                        R
                        
                          2
                        
                      
                      
                        s
                        
                          2
                        
                      
                    
                    )
                  
                  −
                  
                    s
                    
                      4
                    
                  
                  −
                  
                    r
                    
                      4
                    
                  
                  −
                  
                    R
                    
                      4
                    
                  
                
              
            
            
              s
              
                2
              
            
          
        
        
        d
        s
      
    
    {\displaystyle F(r)={\frac {Gm\rho }{8r^{3}}}\int _{R-r}^{R+r}{\frac {\left(r^{2}+s^{2}-R^{2}\right){\sqrt {2\left(r^{2}R^{2}+r^{2}s^{2}+R^{2}s^{2}\right)-s^{4}-r^{4}-R^{4}}}}{s^{2}}}\,ds}

Newton's proofs
Introduction
Propositions 70 and 71 consider the force acting on a particle from a hollow sphere with an infinitesimally thin surface, whose mass density is constant over the surface. The force on the particle from a small area of the surface of the sphere is proportional to the mass of the area and inversely as the square of its distance from the particle. The first proposition considers the case when the particle is inside the sphere, the second when it is outside. The use of infinitesimals and limiting processes in geometrical constructions are simple and elegant and avoid the need for any integrations. They well illustrate Newton's method of proving many of the propositions in the Principia.	
His proof of Propositions 70 is trivial. In the following, it is considered in slightly greater detail than Newton provides.
The proof of Proposition 71 is more historically significant. It forms the first part of his proof that the gravitational force of a solid sphere acting on a particle outside it is inversely proportional to the square of its distance from the center of the sphere, provided the density at any point inside the sphere is a function only of its distance from the center of the sphere.
Although the following are completely faithful to Newton's proofs, very minor changes have been made to attempt to make them clearer.

Force on a point inside a hollow sphere
Fig. 2 is a cross-section of the hollow sphere through the center, S and an arbitrary point, P, inside the sphere. Through P draw two lines IL and HK such that the angle KPL is very small. JM is the line through P that bisects that angle. From the inscribed angle theorem, the triangles IPH and KPL are similar.  The lines KH and IL are rotated about the axis JM to form two cones that intersect the sphere in two closed curves. In Fig. 1 the sphere is seen from a distance along the line PE and is assumed transparent so both curves can be seen. 
The surface of the sphere that the cones intersect can be considered to be flat, and 
  
    
      
        ∠
        P
        J
        I
        =
        ∠
        P
        M
        K
      
    
    {\displaystyle \angle PJI=\angle PMK}
  .
Since the intersection of a cone with a plane is an ellipse, in this case the intersections form two ellipses with major axes IH and KL, where 
  
    
      
        
          
            
              I
              H
            
            
              K
              L
            
          
        
        =
        
          
            
              P
              J
            
            
              P
              M
            
          
        
      
    
    {\displaystyle {\frac {IH}{KL}}={\frac {PJ}{PM}}}
  .
By a similar argument, the minor axes are in the same ratio. This is clear if the sphere is viewed from above. Therefore the two ellipses are similar, so their areas are as the squares of their major axes. As the mass of any section of the surface is proportional to the area of that section, for the two elliptical areas the ratios of their masses 
  
    
      
        ∝
        
          
            
              P
              
                J
                
                  2
                
              
            
            
              P
              
                M
                
                  2
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {PJ^{2}}{PM^{2}}}}
  .
Since the force of attraction on P in the direction JM from either of the elliptic areas, is direct as the mass of the area and inversely as the square of its distance from P, it is independent of the distance of P from the sphere. Hence, the forces on P from the two infinitesimal elliptical areas are equal and opposite and there is no net force in the direction JM.  
As the position of P and the direction of JM are both arbitrary, it follows that any particle inside a hollow sphere experiences no net force from the mass of the sphere.
Note: Newton simply describes the arcs IH and KL as 'minimally small' and the areas traced out by the lines IL and HK can be any shape, not necessarily elliptic, but they will always be similar.

Force on a point outside a hollow sphere
Fig. 1 is a cross-section of the hollow sphere through the center, S with an arbitrary point, P, outside the sphere. PT is the tangent to the circle at T which passes through P. HI is a small arc on the surface such that PH is less than PT. Extend PI to intersect the sphere at L and draw SF to the point F that bisects IL. Extend PH to intersect the sphere at K and draw SE to the point E that bisects HK, and extend SF to intersect HK at D. Drop a perpendicular IQ on to the line PS joining P to the center S. Let the radius of the sphere be a and the distance PS be D.
Let arc IH be extended perpendicularly out of the plane of the diagram, by a small distance ζ. The area of the figure generated is 
  
    
      
        I
        H
        ⋅
        ζ
      
    
    {\displaystyle IH\cdot \zeta }
  , and its mass is proportional to this product.
The force due to this mass on the particle at P 
  
    
      
        ∝
        
          
            
              I
              H
              ⋅
              ζ
            
            
              P
              
                I
                
                  2
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {IH\cdot \zeta }{PI^{2}}}}
   and is along the line PI. 
The component of this force towards the center 
  
    
      
        ∝
        
          
            
              I
              H
              ⋅
              P
              Q
              ⋅
              ζ
            
            
              P
              
                I
                
                  3
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {IH\cdot PQ\cdot \zeta }{PI^{3}}}}
  .
If now the arc HI is rotated completely about the line PS to form a ring of width HI and radius IQ, the length of the ring is 2π·IQ and its area is 2π·IQ·IH. The component of the force due to this ring on the particle at P in the direction PS becomes 
  
    
      
        ∝
        
          
            
              I
              H
              ⋅
              I
              Q
              ⋅
              P
              Q
            
            
              P
              
                I
                
                  3
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {IH\cdot IQ\cdot PQ}{PI^{3}}}}
  .
The perpendicular components of the force directed towards PS cancel out since the mass in the ring is distributed symmetrically about PS. Therefore, the component in the direction PS is the total force on P due to the ring formed by rotating arc HI about PS.
From similar triangles: 
  
    
      
        
          
            
              I
              Q
            
            
              P
              I
            
          
        
        =
        
          
            
              F
              S
            
            D
          
        
      
    
    {\displaystyle {\frac {IQ}{PI}}={\frac {FS}{D}}}
  ; 
  
    
      
        
          
            
              P
              Q
            
            
              P
              I
            
          
        
        =
        
          
            
              P
              F
            
            D
          
        
      
    
    {\displaystyle {\frac {PQ}{PI}}={\frac {PF}{D}}}
  , and 
  
    
      
        
          
            
              R
              I
            
            
              P
              I
            
          
        
        =
        
          
            
              D
              F
            
            
              P
              F
            
          
        
      
    
    {\displaystyle {\frac {RI}{PI}}={\frac {DF}{PF}}}
  .
If HI is sufficiently small that it can be taken as a straight line, 
  
    
      
        ∠
        S
        I
        H
      
    
    {\displaystyle \angle SIH}
   is a right angle, and 
  
    
      
        ∠
        R
        I
        H
        =
        ∠
        F
        I
        S
      
    
    {\displaystyle \angle RIH=\angle FIS}
  , so that 
  
    
      
        
          
            
              H
              I
            
            
              R
              I
            
          
        
        =
        
          
            a
            
              I
              F
            
          
        
      
    
    {\displaystyle {\frac {HI}{RI}}={\frac {a}{IF}}}
  .
Hence the force on P due to the ring 
  
    
      
        ∝
        
          
            
              I
              H
              ⋅
              I
              Q
              ⋅
              P
              Q
            
            
              P
              
                I
                
                  3
                
              
            
          
        
        =
        
          
            
              a
              ⋅
              D
              F
              ⋅
              F
              S
              ⋅
              P
              F
            
            
              I
              F
              ⋅
              P
              F
              ⋅
              D
              ⋅
              D
            
          
        
        =
        
          
            
              a
              ⋅
              D
              F
              ⋅
              F
              S
            
            
              I
              F
              ⋅
              
                D
                
                  2
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {IH\cdot IQ\cdot PQ}{PI^{3}}}={\frac {a\cdot DF\cdot FS\cdot PF}{IF\cdot PF\cdot D\cdot D}}={\frac {a\cdot DF\cdot FS}{IF\cdot D^{2}}}}
  .
Assume now in Fig. 2 that another particle is outside the sphere at a point p, a different distance d from the center of the sphere, with corresponding points lettered in lower case. For easy comparison, the construction of P in Fig. 1 is also shown in Fig. 2. As before, ph is less than pt.
Generate a ring with width ih and radius iq by making angle 
  
    
      
        f
        i
        S
        =
        F
        I
        S
      
    
    {\displaystyle fiS=FIS}
   and the slightly larger angle 
  
    
      
        d
        h
        S
        =
        D
        H
        S
      
    
    {\displaystyle dhS=DHS}
  , so that the distance PS is subtended by the same angle at I as is pS at i. The same holds for H and h, respectively.
The total force on p due to this ring is 

  
    
      
        ∝
        
          
            
              i
              h
              ⋅
              i
              q
              ⋅
              p
              q
            
            
              p
              
                i
                
                  3
                
              
            
          
        
        =
        
          
            
              a
              ⋅
              d
              f
              ⋅
              f
              S
            
            
              i
              f
              ⋅
              
                d
                
                  2
                
              
            
          
        
      
    
    {\displaystyle \propto {\frac {ih\cdot iq\cdot pq}{pi^{3}}}={\frac {a\cdot df\cdot fS}{if\cdot d^{2}}}}
  Clearly 
  
    
      
        f
        S
        =
        F
        S
      
    
    {\displaystyle fS=FS}
  , 
  
    
      
        i
        f
        =
        I
        F
      
    
    {\displaystyle if=IF}
  , and 
  
    
      
        e
        S
        =
        E
        S
      
    
    {\displaystyle eS=ES}
  .
Newton claims that DF and df can be taken as equal in the limit as the angles DPF and dpf 'vanish together'. Note that angles DPF and dpf are not equal. Although DS and dS become equal in the limit, this does not imply that the ratio of DF to df becomes equal to unity, when DF and df both approach zero. In the finite case DF depends on D, and df on d, so they are not equal.
Since the ratio of DF to df in the limit is crucial, more detailed analysis is required. From the similar right triangles, 
  
    
      
        
          
            
              D
              F
            
            
              P
              F
            
          
        
        =
        
          
            
              E
              D
            
            
              E
              S
            
          
        
      
    
    {\textstyle {\frac {DF}{PF}}={\frac {ED}{ES}}}
   and 
  
    
      
        E
        
          D
          
            2
          
        
        =
        (
        D
        F
        +
        F
        S
        
          )
          
            2
          
        
        −
        E
        
          S
          
            2
          
        
      
    
    {\displaystyle ED^{2}=(DF+FS)^{2}-ES^{2}}
  , giving 
  
    
      
        
          
            
              
                (
                
                  P
                  
                    F
                    
                      2
                    
                  
                  −
                  E
                  
                    S
                    
                      2
                    
                  
                
                )
              
              D
              
                F
                
                  2
                
              
            
            
              P
              
                F
                
                  2
                
              
            
          
        
        +
        2
        ⋅
        F
        S
        ⋅
        D
        F
        +
        F
        
          S
          
            2
          
        
        −
        E
        
          S
          
            2
          
        
        =
        0
      
    
    {\displaystyle {\frac {\left(PF^{2}-ES^{2}\right)DF^{2}}{PF^{2}}}+2\cdot FS\cdot DF+FS^{2}-ES^{2}=0}
  . Solving the quadratic for DF, in the limit as ES approaches FS, the smaller root, 
  
    
      
        D
        F
        =
        E
        S
        −
        F
        S
      
    
    {\displaystyle DF=ES-FS}
  . More simply, as DF approaches zero, in the limit the 
  
    
      
        D
        
          F
          
            2
          
        
      
    
    {\displaystyle DF^{2}}
   term can be ignored: 
  
    
      
        2
        ⋅
        F
        S
        ⋅
        D
        F
        +
        F
        
          S
          
            2
          
        
        −
        E
        
          S
          
            2
          
        
        =
        0
      
    
    {\displaystyle 2\cdot FS\cdot DF+FS^{2}-ES^{2}=0}
   leading to the same result. Clearly df has the same limit, justifying Newton’s claim.
Comparing the force from the ring HI rotated about PS to the ring hi about pS, the ratio of these 2 forces equals 
  
    
      
        
          
            
              d
              
                2
              
            
            
              D
              
                2
              
            
          
        
      
    
    {\textstyle {\frac {d^{2}}{D^{2}}}}
  .
By dividing up the arcs AT and Bt into corresponding infinitesimal rings, it follows that the ratio of the force due to the arc AT rotated about PS to that of Bt rotated about pS is in the same ratio, and similarly, the ratio of the forces due to arc TB to that of tA both rotated are in the same ratio.
Therefore, the force on a particle any distance D from the center of the hollow sphere is inversely proportional to 
  
    
      
        
          D
          
            2
          
        
      
    
    {\displaystyle D^{2}}
  , which proves the proposition.

Shell theorem in general relativity
An analogue for shell theorem exists in general relativity (GR).
Spherical symmetry implies that the metric has time-independent Schwarzschild geometry, even if a central mass is undergoing gravitational collapse (Misner et al. 1973; see Birkhoff's theorem). The metric thus has form 

  
    
      
        d
        
          s
          
            2
          
        
        =
        −
        (
        1
        −
        2
        M
        
          /
        
        r
        )
        
        d
        
          t
          
            2
          
        
        +
        (
        1
        −
        2
        M
        
          /
        
        r
        
          )
          
            −
            1
          
        
        
        d
        
          r
          
            2
          
        
        +
        
          r
          
            2
          
        
        
        d
        
          Ω
          
            2
          
        
      
    
    {\displaystyle ds^{2}=-(1-2M/r)\,dt^{2}+(1-2M/r)^{-1}\,dr^{2}+r^{2}\,d\Omega ^{2}}
  (using geometrized units, where 
  
    
      
        G
        =
        c
        =
        1
      
    
    {\displaystyle G=c=1}
  ). For 
  
    
      
        r
        >
        R
        >
        0
      
    
    {\displaystyle r>R>0}
   (where 
  
    
      
        R
      
    
    {\displaystyle R}
   is the radius of some mass shell), mass acts as a delta function at the origin. For 
  
    
      
        r
        <
        R
      
    
    {\displaystyle r<R}
  , shells of mass may exist externally, but for the metric to be non-singular at the origin, 
  
    
      
        M
      
    
    {\displaystyle M}
   must be zero in the metric. This reduces the metric to flat Minkowski space; thus external shells have no gravitational effect. 
This result illuminates the gravitational collapse leading to a black hole and its effect on the motion of light-rays and particles outside and inside the event horizon (Hartle 2003, chapter 12).

See also

Scale height
Chasles' theorem (gravitation)


== References ==