The maximum theorem provides conditions for the continuity of an optimized function and the set of its maximizers with respect to its parameters. The statement was first proven by Claude Berge in 1959. The theorem is primarily used in mathematical economics and optimal control.

Statement of theorem
Maximum Theorem. 
Let 
  
    
      
        X
      
    
    {\displaystyle X}
   and 
  
    
      
        Θ
      
    
    {\displaystyle \Theta }
   be topological spaces, 
  
    
      
        f
        :
        X
        ×
        Θ
        →
        
          R
        
      
    
    {\displaystyle f:X\times \Theta \to \mathbb {R} }
   be a continuous function on the product 
  
    
      
        X
        ×
        Θ
      
    
    {\displaystyle X\times \Theta }
  , and 
  
    
      
        C
        :
        Θ
        ⇉
        X
      
    
    {\displaystyle C:\Theta \rightrightarrows X}
   be a compact-valued correspondence such that 
  
    
      
        C
        (
        θ
        )
        ≠
        ∅
      
    
    {\displaystyle C(\theta )\neq \emptyset }
   for all 
  
    
      
        θ
        ∈
        Θ
      
    
    {\displaystyle \theta \in \Theta }
  . Define the marginal function (or value function) 
  
    
      
        
          f
          
            ∗
          
        
        :
        Θ
        →
        
          R
        
      
    
    {\displaystyle f^{*}:\Theta \to \mathbb {R} }
   by

  
    
      
        
          f
          
            ∗
          
        
        (
        θ
        )
        =
        sup
        {
        f
        (
        x
        ,
        θ
        )
        :
        x
        ∈
        C
        (
        θ
        )
        }
      
    
    {\displaystyle f^{*}(\theta )=\sup\{f(x,\theta ):x\in C(\theta )\}}
  and the set of maximizers 
  
    
      
        
          C
          
            ∗
          
        
        :
        Θ
        ⇉
        X
      
    
    {\displaystyle C^{*}:\Theta \rightrightarrows X}
   by

  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
        =
        
          a
          r
          g
        
        max
        {
        f
        (
        x
        ,
        θ
        )
        :
        x
        ∈
        C
        (
        θ
        )
        }
        =
        {
        x
        ∈
        C
        (
        θ
        )
        :
        f
        (
        x
        ,
        θ
        )
        =
        
          f
          
            ∗
          
        
        (
        θ
        )
        }
      
    
    {\displaystyle C^{*}(\theta )=\mathrm {arg} \max\{f(x,\theta ):x\in C(\theta )\}=\{x\in C(\theta ):f(x,\theta )=f^{*}(\theta )\}}
  .If 
  
    
      
        C
      
    
    {\displaystyle C}
   is continuous (i.e. both upper and lower hemicontinuous) at  
  
    
      
        θ
      
    
    {\displaystyle \theta }
  , then 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   is continuous and 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
  is upper hemicontinuous with nonempty and compact values. As a consequence, the 
  
    
      
        sup
      
    
    {\displaystyle \sup }
   may be replaced by 
  
    
      
        max
      
    
    {\displaystyle \max }
  . The maximum theorem can be used for minimization by considering 
  
    
      
        −
        f
      
    
    {\displaystyle -f}
   instead.

Interpretation
The theorem is typically interpreted as providing conditions for a parametric optimization problem to have continuous solutions with regard to the parameter. In this case, 
  
    
      
        Θ
      
    
    {\displaystyle \Theta }
   is the parameter space, 
  
    
      
        f
        (
        x
        ,
        θ
        )
      
    
    {\displaystyle f(x,\theta )}
   is the function to be maximized, and 
  
    
      
        C
        (
        θ
        )
      
    
    {\displaystyle C(\theta )}
   gives the constraint set that 
  
    
      
        f
      
    
    {\displaystyle f}
   is maximized over. Then, 
  
    
      
        
          f
          
            ∗
          
        
        (
        θ
        )
      
    
    {\displaystyle f^{*}(\theta )}
   is the maximized value of the function and 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is the set of points that maximize 
  
    
      
        f
      
    
    {\displaystyle f}
  .
The result is that if the elements of an optimization problem are sufficiently continuous, then some, but not all, of that continuity is preserved in the solutions.

Proof
Throughout this proof we will use the term neighborhood to refer to an open set containing a particular point. We preface with a preliminary lemma, which is a general fact in the calculus of correspondences. Recall that a correspondence is closed if its graph is closed.
Lemma.If 
  
    
      
        A
        ,
        B
        :
        Θ
        ⇉
        X
      
    
    {\displaystyle A,B:\Theta \rightrightarrows X}
   are correspondences, 
  
    
      
        A
      
    
    {\displaystyle A}
   is upper hemicontinuous and compact-valued, and 
  
    
      
        B
      
    
    {\displaystyle B}
   is closed, then 
  
    
      
        A
        ∩
        B
        :
        Θ
        ⇉
        X
      
    
    {\displaystyle A\cap B:\Theta \rightrightarrows X}
   defined by 
  
    
      
        (
        A
        ∩
        B
        )
        (
        θ
        )
        =
        A
        (
        θ
        )
        ∩
        B
        (
        θ
        )
      
    
    {\displaystyle (A\cap B)(\theta )=A(\theta )\cap B(\theta )}
   is upper hemicontinuous.

The continuity of 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   in the maximum theorem is the result of combining two independent theorems together.
Theorem 1.If 
  
    
      
        f
      
    
    {\displaystyle f}
   is upper semicontinuous and 
  
    
      
        C
      
    
    {\displaystyle C}
   is upper hemicontinuous, nonempty and compact-valued, then 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   is upper semicontinuous.

Theorem 2.If 
  
    
      
        f
      
    
    {\displaystyle f}
   is lower semicontinuous and 
  
    
      
        C
      
    
    {\displaystyle C}
   is lower hemicontinuous, then 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   is lower semicontinuous.

Under the hypotheses of the Maximum theorem, 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   is continuous. It remains to verify that 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is an upper hemicontinuous correspondence with compact values. Let 
  
    
      
        θ
        ∈
        Θ
      
    
    {\displaystyle \theta \in \Theta }
  . To see that 
  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
      
    
    {\displaystyle C^{*}(\theta )}
   is nonempty, observe that the function 
  
    
      
        
          f
          
            θ
          
        
        :
        C
        (
        θ
        )
        →
        
          R
        
      
    
    {\displaystyle f_{\theta }:C(\theta )\to \mathbb {R} }
   by 
  
    
      
        
          f
          
            θ
          
        
        (
        x
        )
        =
        f
        (
        x
        ,
        θ
        )
      
    
    {\displaystyle f_{\theta }(x)=f(x,\theta )}
   is continuous on the compact set 
  
    
      
        C
        (
        θ
        )
      
    
    {\displaystyle C(\theta )}
  . The Extreme Value theorem implies that 
  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
      
    
    {\displaystyle C^{*}(\theta )}
   is nonempty. In addition, since 
  
    
      
        
          f
          
            θ
          
        
      
    
    {\displaystyle f_{\theta }}
   is continuous, it follows that 
  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
      
    
    {\displaystyle C^{*}(\theta )}
   a closed subset of the compact set 
  
    
      
        C
        (
        θ
        )
      
    
    {\displaystyle C(\theta )}
  , which implies 
  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
      
    
    {\displaystyle C^{*}(\theta )}
   is compact. Finally, let 
  
    
      
        D
        :
        Θ
        ⇉
        X
      
    
    {\displaystyle D:\Theta \rightrightarrows X}
   be defined by 
  
    
      
        D
        (
        θ
        )
        =
        {
        x
        ∈
        X
        :
        f
        (
        x
        ,
        θ
        )
        =
        
          f
          
            ∗
          
        
        (
        θ
        )
        }
      
    
    {\textstyle D(\theta )=\{x\in X:f(x,\theta )=f^{*}(\theta )\}}
  . Since 
  
    
      
        f
      
    
    {\displaystyle f}
    is a continuous function, 
  
    
      
        D
      
    
    {\displaystyle D}
   is a closed correspondence. Moreover, since 
  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
        =
        C
        (
        θ
        )
        ∩
        D
        (
        θ
        )
      
    
    {\displaystyle C^{*}(\theta )=C(\theta )\cap D(\theta )}
  ,  the preliminary Lemma implies that 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is upper hemicontinuous. 
  
    
      
        ◻
      
    
    {\displaystyle \square }

Variants and generalizations
A natural generalization from the above results gives sufficient local conditions for 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
  to be continuous and 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
  to be nonempty, compact-valued, and upper semi-continuous.
If in addition to the conditions above, 
  
    
      
        f
      
    
    {\displaystyle f}
   is quasiconcave in 
  
    
      
        x
      
    
    {\displaystyle x}
   for each 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   and 
  
    
      
        C
      
    
    {\displaystyle C}
   is convex-valued, then 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is also convex-valued. If 
  
    
      
        f
      
    
    {\displaystyle f}
   is strictly quasiconcave in 
  
    
      
        x
      
    
    {\displaystyle x}
   for each 
  
    
      
        θ
      
    
    {\displaystyle \theta }
   and 
  
    
      
        C
      
    
    {\displaystyle C}
   is convex-valued, then 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is single-valued, and thus is a continuous function rather than a correspondence.
If 
  
    
      
        f
      
    
    {\displaystyle f}
   is concave and 
  
    
      
        C
      
    
    {\displaystyle C}
   has a convex graph, then 
  
    
      
        
          f
          
            ∗
          
        
      
    
    {\displaystyle f^{*}}
   is concave and 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is convex-valued. Similarly to above, if 
  
    
      
        f
      
    
    {\displaystyle f}
   is strictly concave, then 
  
    
      
        
          C
          
            ∗
          
        
      
    
    {\displaystyle C^{*}}
   is a continuous function.It is also possible to generalize Berge's theorem to non-compact correspondences if the objective function is K-inf-compact.

Examples
Consider a utility maximization problem where a consumer makes a choice from their budget set. Translating from the notation above to the standard consumer theory notation,

  
    
      
        X
        =
        
          
            R
          
          
            +
          
          
            l
          
        
      
    
    {\displaystyle X=\mathbb {R} _{+}^{l}}
   is the space of all bundles of 
  
    
      
        l
      
    
    {\displaystyle l}
   commodities,

  
    
      
        Θ
        =
        
          
            R
          
          
            +
            +
          
          
            l
          
        
        ×
        
          
            R
          
          
            +
            +
          
        
      
    
    {\displaystyle \Theta =\mathbb {R} _{++}^{l}\times \mathbb {R} _{++}}
   represents the price vector of the commodities 
  
    
      
        p
      
    
    {\displaystyle p}
   and the consumer's wealth 
  
    
      
        w
      
    
    {\displaystyle w}
  ,

  
    
      
        f
        (
        x
        ,
        θ
        )
        =
        u
        (
        x
        )
      
    
    {\displaystyle f(x,\theta )=u(x)}
   is the consumer's utility function, and

  
    
      
        C
        (
        θ
        )
        =
        B
        (
        p
        ,
        w
        )
        =
        {
        x
        
        
          |
        
        
        p
        x
        ≤
        w
        }
      
    
    {\displaystyle C(\theta )=B(p,w)=\{x\,|\,px\leq w\}}
   is the consumer's budget set.Then, 

  
    
      
        
          f
          
            ∗
          
        
        (
        θ
        )
        =
        v
        (
        p
        ,
        w
        )
      
    
    {\displaystyle f^{*}(\theta )=v(p,w)}
   is the indirect utility function and

  
    
      
        
          C
          
            ∗
          
        
        (
        θ
        )
        =
        x
        (
        p
        ,
        w
        )
      
    
    {\displaystyle C^{*}(\theta )=x(p,w)}
   is the Marshallian demand.Proofs in general equilibrium theory often apply the Brouwer or Kakutani fixed-point theorems to the consumer's demand, which require compactness and continuity, and the maximum theorem provides the sufficient conditions to do so.

See also
Envelope theorem
Brouwer fixed point theorem
Kakutani fixed point theorem for correspondences

Notes
References
Claude Berge (1963). Topological Spaces. Oliver and Boyd. pp. 115–117.
Charalambos D. Aliprantis; Kim C. Border (2006). Infinite Dimensional Analysis: A Hitchhiker's Guide. Springer. pp. 569-571. ISBN 9783540295860.
Shouchuan Hu; Nikolas S. Papageorgiou (1997). Handbook of Multivalued Analysis. Vol. 1: Theory. Springer-Science + Business Media, B. V. pp. 82–89.